import React, {useEffect, useState} from 'react';
import {MainLogo} from 'components/main-logo/MainLogo';
import {Form} from 'components/form/Form';
import s from './MainForm.module.scss'
import {citiesAPI} from "api/apiAxios";


export const MainForm = () => {
    let [citiesList, setCitiesList] = useState([]);
    useEffect(() => {
        citiesAPI.getAllCity().then(data => setCitiesList(data.cities))
    }, [])


    return (
        <main className={s.mainWrapper}>
            <MainLogo isLoading={citiesList.length}/>
            <Form citiesListProps={citiesList}/>
            <p className={s.policyDescription}>Нажимая "Записаться", я выражаю своё согласие с обработкой моих
                персональных данных в соответствии с принятой <a
                    href="#">политикой конфеденциальности</a> и принимаю <a href="#">пользовательское соглашение</a></p>
        </main>
    )
}